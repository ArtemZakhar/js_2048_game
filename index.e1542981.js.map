{"mappings":"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","sources":["<anon>","src/scripts/main.js","src/modules/Game.class.js","node_modules/@swc/helpers/esm/_class_call_check.js","node_modules/@swc/helpers/esm/_create_class.js","node_modules/@swc/helpers/esm/_define_property.js","node_modules/@swc/helpers/esm/_to_consumable_array.js","node_modules/@swc/helpers/esm/_array_without_holes.js","node_modules/@swc/helpers/esm/_array_like_to_array.js","node_modules/@swc/helpers/esm/_iterable_to_array.js","node_modules/@swc/helpers/esm/_non_iterable_spread.js","node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js","src/constants/gameStatus.js","src/scripts/components/addNewNum.js","node_modules/@swc/helpers/esm/_sliced_to_array.js","node_modules/@swc/helpers/esm/_array_with_holes.js","node_modules/@swc/helpers/esm/_iterable_to_array_limit.js","node_modules/@swc/helpers/esm/_non_iterable_rest.js","src/scripts/components/random.js","src/scripts/components/initialState.js","src/scripts/components/moveDown.js","src/scripts/components/moveLeft.js","src/scripts/components/moveRight.js","src/scripts/components/moveUp.js","src/scripts/components/renderNums.js","src/scripts/components/swipe.js"],"sourcesContent":["(function () {\n\"use strict\";\nvar $3d28d7f1aac198f5$exports = {};\nfunction $8713978b2328d32b$export$2996f80ef42b8419(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\n\nfunction $4fc75ccb937ab1df$var$_defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nfunction $4fc75ccb937ab1df$export$d60067ff2358eee8(Constructor, protoProps, staticProps) {\n    if (protoProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) $4fc75ccb937ab1df$var$_defineProperties(Constructor, staticProps);\n    return Constructor;\n}\n\n\nfunction $cd5a47cf8ef6d766$export$1e71eb4bef00f6b0(obj, key, value) {\n    if (key in obj) Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n    });\n    else obj[key] = value;\n    return obj;\n}\n\n\nfunction $c3b10a83b523f372$export$79e617b1955a2616(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n\n\nfunction $c50969dc1df61e8b$export$7e0947b5ad3404e2(arr) {\n    if (Array.isArray(arr)) return (0, $c3b10a83b523f372$export$79e617b1955a2616)(arr);\n}\n\n\nfunction $09c9f293d010c0e1$export$1eb58a6e75231000(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\n\nfunction $38c2d4931cb7a7c4$export$e6f3c4780d19eb2b() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n\n\nfunction $d4f69c5c6c4654b1$export$a5be06335b3a083c(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, $c3b10a83b523f372$export$79e617b1955a2616)(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, $c3b10a83b523f372$export$79e617b1955a2616)(o, minLen);\n}\n\n\nfunction $227c6742e0ff6f82$export$1b5e630bc3aea29f(arr) {\n    return (0, $c50969dc1df61e8b$export$7e0947b5ad3404e2)(arr) || (0, $09c9f293d010c0e1$export$1eb58a6e75231000)(arr) || (0, $d4f69c5c6c4654b1$export$a5be06335b3a083c)(arr) || (0, $38c2d4931cb7a7c4$export$e6f3c4780d19eb2b)();\n}\n\n\n\"use strict\";\nvar $ca2d1f50cc9167c7$export$ed83628311d3f442 = {\n    idle: \"idle\",\n    playing: \"playing\",\n    win: \"win\",\n    lose: \"lose\"\n};\n\n\nvar $3d28d7f1aac198f5$require$gameStatus = $ca2d1f50cc9167c7$export$ed83628311d3f442;\nfunction $09cbfe85151ea6c6$export$e6256bf45c68d561(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n\n\nfunction $8ca2848f896a6803$export$2fd15edff6687200(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n        for(_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true){\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally{\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally{\n            if (_d) throw _e;\n        }\n    }\n    return _arr;\n}\n\n\nfunction $a0bc1859061deae1$export$60dbc22abd7da546() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n\n\nfunction $efec029548ccee7f$export$fdf2a89c76341bbf(arr, i) {\n    return (0, $09cbfe85151ea6c6$export$e6256bf45c68d561)(arr) || (0, $8ca2848f896a6803$export$2fd15edff6687200)(arr, i) || (0, $d4f69c5c6c4654b1$export$a5be06335b3a083c)(arr, i) || (0, $a0bc1859061deae1$export$60dbc22abd7da546)();\n}\n\n\n\nvar $bdf7d329d3d5c10e$var$random = {\n    num: function() {\n        var probability = Math.random();\n        if (probability <= 0.9) return 2;\n        else return 4;\n    },\n    position: function(arr) {\n        var firstNum = Math.floor(Math.random() * 4);\n        while(!arr[firstNum].includes(0))firstNum = Math.floor(Math.random() * 4);\n        var secondNum = Math.floor(Math.random() * 4);\n        while(arr[firstNum][secondNum] !== 0)secondNum = Math.floor(Math.random() * 4);\n        return [\n            firstNum,\n            secondNum\n        ];\n    }\n};\nvar $bdf7d329d3d5c10e$export$2e2bcd8739ae039 = $bdf7d329d3d5c10e$var$random;\n\n\nvar $9cf1afd1eb16706b$var$addNewNumToState = function(state) {\n    var newState = state.map(function(row) {\n        return (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)(row);\n    });\n    var num = (0, $bdf7d329d3d5c10e$export$2e2bcd8739ae039).num();\n    var _random_position = (0, $efec029548ccee7f$export$fdf2a89c76341bbf)((0, $bdf7d329d3d5c10e$export$2e2bcd8739ae039).position(newState), 2), first = _random_position[0], second = _random_position[1];\n    newState[first][second] = num;\n    return newState;\n};\nvar $9cf1afd1eb16706b$export$2e2bcd8739ae039 = $9cf1afd1eb16706b$var$addNewNumToState;\n\n\nvar $3d28d7f1aac198f5$var$addNewNumToState = $9cf1afd1eb16706b$export$2e2bcd8739ae039;\n\nvar $3ef2292e4038c8ff$var$initialState = function() {\n    var state = [\n        [\n            0,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            0\n        ]\n    ];\n    var newState = (0, $9cf1afd1eb16706b$export$2e2bcd8739ae039)(state);\n    return (0, $9cf1afd1eb16706b$export$2e2bcd8739ae039)(newState);\n};\nvar $3ef2292e4038c8ff$export$2e2bcd8739ae039 = $3ef2292e4038c8ff$var$initialState;\n\n\nvar $3d28d7f1aac198f5$var$initialState = $3ef2292e4038c8ff$export$2e2bcd8739ae039;\nvar $08191b7549f99a82$var$moveDown = function(state) {\n    var noMove = true;\n    for(var i = 0; i < state.length; i += 1){\n        var lastCell = [\n            state.length - 1,\n            state[state.length - 1][i]\n        ];\n        var lastFreeCell = null;\n        for(var j = state.length - 1; j >= 0; j -= 1){\n            var num = state[j][i];\n            if (num === 0) {\n                if (lastFreeCell !== null) continue;\n                lastFreeCell = j;\n                continue;\n            }\n            if (lastCell[1] === num && lastCell[0] !== j) {\n                state[lastCell[0]][i] = num * 2;\n                state[j][i] = 0;\n                lastFreeCell = j;\n                lastCell[0] -= 1;\n                j += 1;\n                lastCell[1] = state[lastCell[0]][i];\n                noMove = false;\n                continue;\n            }\n            if (lastFreeCell !== null) {\n                state[lastFreeCell][i] = num;\n                lastCell[0] = lastFreeCell;\n                lastCell[1] = num;\n                lastFreeCell -= 1;\n                state[j][i] = 0;\n                noMove = false;\n                continue;\n            }\n            if (lastCell[1] !== num) {\n                lastCell[0] -= 1;\n                lastCell[1] = num;\n                continue;\n            }\n        }\n    }\n    if (noMove) return false;\n    return state;\n};\nvar $08191b7549f99a82$export$2e2bcd8739ae039 = $08191b7549f99a82$var$moveDown;\n\n\nvar $3d28d7f1aac198f5$var$moveDown = $08191b7549f99a82$export$2e2bcd8739ae039;\nvar $482ba064c6cd9753$var$moveLeft = function(state) {\n    var noMove = true;\n    for(var i = 0; i < state.length; i += 1){\n        var line = state[i];\n        var lastCell = [\n            0,\n            line[0]\n        ];\n        var lastFreeCell = null;\n        for(var j = 0; j < line.length; j += 1){\n            var num = line[j];\n            if (num === 0) {\n                if (lastFreeCell !== null) continue;\n                lastFreeCell = j;\n                continue;\n            }\n            if (lastCell[1] === num && lastCell[0] !== j) {\n                state[i][lastCell[0]] = num * 2;\n                state[i][j] = 0;\n                lastFreeCell = j;\n                lastCell[0] += 1;\n                j -= 1;\n                lastCell[1] = state[j][lastCell[0]];\n                noMove = false;\n                continue;\n            }\n            if (lastFreeCell !== null) {\n                state[i][lastFreeCell] = num;\n                lastCell[0] = lastFreeCell;\n                lastCell[1] = num;\n                lastFreeCell += 1;\n                state[i][j] = 0;\n                noMove = false;\n                continue;\n            }\n            if (lastCell[1] !== num) {\n                lastCell[0] += 1;\n                lastCell[1] = num;\n                continue;\n            }\n        }\n    }\n    if (noMove) return false;\n    return state;\n};\nvar $482ba064c6cd9753$export$2e2bcd8739ae039 = $482ba064c6cd9753$var$moveLeft;\n\n\nvar $3d28d7f1aac198f5$var$moveLeft = $482ba064c6cd9753$export$2e2bcd8739ae039;\nvar $cf58bb72e8f42a50$var$moveRight = function(state) {\n    var noMove = true;\n    for(var i = 0; i < state.length; i += 1){\n        var line = state[i];\n        var lastCell = [\n            line.length - 1,\n            line[line.length - 1]\n        ];\n        var lastFreeCell = null;\n        for(var j = line.length - 1; j >= 0; j -= 1){\n            var num = line[j];\n            if (num === 0) {\n                if (lastFreeCell !== null) continue;\n                lastFreeCell = j;\n                continue;\n            }\n            if (lastCell[1] === num && lastCell[0] !== j) {\n                state[i][lastCell[0]] = num * 2;\n                state[i][j] = 0;\n                lastFreeCell = j;\n                lastCell[0] -= 1;\n                j += 1;\n                lastCell[1] = state[j][lastCell[0]];\n                noMove = false;\n                continue;\n            }\n            if (lastFreeCell !== null) {\n                state[i][lastFreeCell] = num;\n                lastCell[0] = lastFreeCell;\n                lastCell[1] = num;\n                lastFreeCell -= 1;\n                state[i][j] = 0;\n                noMove = false;\n                continue;\n            }\n            if (lastCell[1] !== num) {\n                lastCell[0] -= 1;\n                lastCell[1] = num;\n                continue;\n            }\n        }\n    }\n    if (noMove) return false;\n    return state;\n};\nvar $cf58bb72e8f42a50$export$2e2bcd8739ae039 = $cf58bb72e8f42a50$var$moveRight;\n\n\nvar $3d28d7f1aac198f5$var$moveRight = $cf58bb72e8f42a50$export$2e2bcd8739ae039;\nvar $d5fd65eed7ce7b96$var$moveUp = function(state) {\n    var noMove = true;\n    for(var i = 0; i < state.length; i += 1){\n        var lastCell = [\n            0,\n            state[0][i]\n        ];\n        var lastFreeCell = null;\n        for(var j = 0; j < state.length; j += 1){\n            var num = state[j][i];\n            if (num === 0) {\n                if (lastFreeCell !== null) continue;\n                lastFreeCell = j;\n                continue;\n            }\n            if (lastCell[1] === num && lastCell[0] !== j) {\n                state[lastCell[0]][i] = num * 2;\n                state[j][i] = 0;\n                lastFreeCell = j;\n                lastCell[0] += 1;\n                j -= 1;\n                lastCell[1] = state[lastCell[0]][i];\n                noMove = false;\n                continue;\n            }\n            if (lastFreeCell !== null) {\n                state[lastFreeCell][i] = num;\n                lastCell[0] = lastFreeCell;\n                lastCell[1] = num;\n                lastFreeCell += 1;\n                state[j][i] = 0;\n                noMove = false;\n                continue;\n            }\n            if (lastCell[1] !== num) {\n                lastCell[0] += 1;\n                lastCell[1] = num;\n                continue;\n            }\n        }\n    }\n    if (noMove) return false;\n    return state;\n};\nvar $d5fd65eed7ce7b96$export$2e2bcd8739ae039 = $d5fd65eed7ce7b96$var$moveUp;\n\n\nvar $3d28d7f1aac198f5$var$moveUp = $d5fd65eed7ce7b96$export$2e2bcd8739ae039;\n\nfunction $141233592d75eb40$var$wait(delay) {\n    return new Promise(function(resolve) {\n        setTimeout(function() {\n            return resolve();\n        }, delay);\n    });\n}\nvar $141233592d75eb40$var$renderNums = function(state) {\n    var table = document.querySelector(\"tbody\");\n    var rows = (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)(table.children);\n    rows.forEach(function(row, index) {\n        var cells = (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)(row.children);\n        cells.forEach(function(cell, i) {\n            if (cell.children.length) {\n                cell.lastChild.classList.add(\"hide\");\n                $141233592d75eb40$var$wait(75).then(function() {\n                    cell.removeChild(cell.lastChild);\n                    var divTag = document.createElement(\"div\");\n                    divTag.classList.add(\"field-cell\");\n                    divTag.style.cssText = \"display: flex; justify-content: center; align-items: center;\";\n                    var num = state[index][i];\n                    var content = num === 0 ? \"\" : num;\n                    if (num) divTag.classList.add(\"field-cell--\".concat(num));\n                    divTag.textContent = content;\n                    cell.append(divTag);\n                });\n            } else {\n                var divTag = document.createElement(\"div\");\n                divTag.classList.add(\"field-cell\");\n                divTag.style.cssText = \"display: flex; justify-content: center; align-items: center;\";\n                var num = state[index][i];\n                var content = num === 0 ? \"\" : num;\n                if (num) divTag.classList.add(\"field-cell--\".concat(num));\n                divTag.textContent = content;\n                cell.append(divTag);\n            }\n        });\n    });\n};\nvar $141233592d75eb40$export$2e2bcd8739ae039 = $141233592d75eb40$var$renderNums;\n\n\nvar $3d28d7f1aac198f5$var$renderNums = $141233592d75eb40$export$2e2bcd8739ae039;\nvar $3d28d7f1aac198f5$var$Game = /*#__PURE__*/ function() {\n    function Game(data) {\n        (0, $8713978b2328d32b$export$2996f80ef42b8419)(this, Game);\n        (0, $cd5a47cf8ef6d766$export$1e71eb4bef00f6b0)(this, \"state\", []);\n        (0, $cd5a47cf8ef6d766$export$1e71eb4bef00f6b0)(this, \"status\", $3d28d7f1aac198f5$require$gameStatus.idle);\n        this.state = data;\n    }\n    (0, $4fc75ccb937ab1df$export$d60067ff2358eee8)(Game, [\n        {\n            key: \"moveLeft\",\n            value: function moveLeft1() {\n                if (this.getStatus() !== $3d28d7f1aac198f5$require$gameStatus.playing) return;\n                var afterMove = $3d28d7f1aac198f5$var$moveLeft(this.getState());\n                this.applyChanges(afterMove);\n            }\n        },\n        {\n            key: \"moveRight\",\n            value: function moveRight1() {\n                if (this.getStatus() !== $3d28d7f1aac198f5$require$gameStatus.playing) return;\n                var afterMove = $3d28d7f1aac198f5$var$moveRight(this.getState());\n                this.applyChanges(afterMove);\n            }\n        },\n        {\n            key: \"moveUp\",\n            value: function moveUp1() {\n                if (this.getStatus() !== $3d28d7f1aac198f5$require$gameStatus.playing) return;\n                var afterMove = $3d28d7f1aac198f5$var$moveUp(this.getState());\n                this.applyChanges(afterMove);\n            }\n        },\n        {\n            key: \"moveDown\",\n            value: function moveDown1() {\n                if (this.getStatus() !== $3d28d7f1aac198f5$require$gameStatus.playing) return;\n                var afterMove = $3d28d7f1aac198f5$var$moveDown(this.getState());\n                this.applyChanges(afterMove);\n            }\n        },\n        {\n            key: \"getScore\",\n            value: function getScore() {\n                if (this.status === $3d28d7f1aac198f5$require$gameStatus.idle) return 0;\n                return this.state.flat().reduce(function(acc, elem) {\n                    return acc + elem;\n                }, 0);\n            }\n        },\n        {\n            key: \"getState\",\n            value: function getState() {\n                return this.state.map(function(row) {\n                    return (0, $227c6742e0ff6f82$export$1b5e630bc3aea29f)(row);\n                });\n            }\n        },\n        {\n            key: \"getStatus\",\n            value: function getStatus() {\n                return this.status;\n            }\n        },\n        {\n            key: \"start\",\n            value: function start() {\n                this.status = $3d28d7f1aac198f5$require$gameStatus.playing;\n                $3d28d7f1aac198f5$var$renderNums(this.getState());\n            }\n        },\n        {\n            key: \"restart\",\n            value: function restart() {\n                this.state = $3d28d7f1aac198f5$var$initialState();\n                $3d28d7f1aac198f5$var$renderNums(this.getState());\n            }\n        },\n        {\n            key: \"applyChanges\",\n            value: function applyChanges(afterMove) {\n                if (!afterMove) return;\n                if (this.isFull(afterMove)) {\n                    this.gameOver();\n                    return;\n                }\n                var newState = $3d28d7f1aac198f5$var$addNewNumToState(afterMove);\n                this.state = newState;\n                $3d28d7f1aac198f5$var$renderNums(newState);\n                if (this.has2048(this.state)) this.winner();\n            }\n        },\n        {\n            key: \"isFull\",\n            value: function isFull(afterMove) {\n                return afterMove.flat().every(function(cell) {\n                    return cell !== 0;\n                });\n            }\n        },\n        {\n            key: \"gameOver\",\n            value: function gameOver() {\n                this.status = $3d28d7f1aac198f5$require$gameStatus.lose;\n                document.querySelector(\".message-lose\").classList.remove(\"hidden\");\n            }\n        },\n        {\n            key: \"has2048\",\n            value: function has2048(afterMove) {\n                return afterMove.flat().includes(2048);\n            }\n        },\n        {\n            key: \"winner\",\n            value: function winner() {\n                this.status = $3d28d7f1aac198f5$require$gameStatus.win;\n                document.querySelector(\".message-win\").classList.remove(\"hidden\");\n            }\n        }\n    ]);\n    return Game;\n}();\n$3d28d7f1aac198f5$exports = $3d28d7f1aac198f5$var$Game;\n\n\n\nvar $197cd56b15c33885$var$initialState = $3ef2292e4038c8ff$export$2e2bcd8739ae039;\nvar $21bf6b55da99242a$var$swipe = function(game) {\n    var checkDirection = function checkDirection() {\n        var xDiff = Math.abs(touchStartX - touchEndX);\n        var yDiff = Math.abs(touchStartY - touchEndY);\n        if (xDiff > yDiff) {\n            if (touchStartX - touchEndX > SWIPE_DIFF) game.moveLeft();\n            if (touchEndX - touchStartX > SWIPE_DIFF) game.moveRight();\n        } else {\n            if (touchStartY - touchEndY > SWIPE_DIFF) game.moveUp();\n            if (touchEndY - touchStartY > SWIPE_DIFF) game.moveDown();\n        }\n        var data = game.getScore();\n        score.textContent = data;\n    };\n    var table = document.querySelector(\"tbody\");\n    var score = document.querySelector(\".game-score\");\n    var touchStartX = 0;\n    var touchEndX = 0;\n    var touchStartY = 0;\n    var touchEndY = 0;\n    var SWIPE_DIFF = 20;\n    table.addEventListener(\"touchstart\", function(e) {\n        touchStartX = e.changedTouches[0].screenX;\n        touchStartY = e.changedTouches[0].screenY;\n    });\n    table.addEventListener(\"touchend\", function(e) {\n        touchEndX = e.changedTouches[0].screenX;\n        touchEndY = e.changedTouches[0].screenY;\n        checkDirection();\n    });\n    return function() {\n        table.removeEventListener(\"touchstart\", touchStartHandler);\n        table.removeEventListener(\"touchend\", touchEndHandler);\n    };\n};\nvar $21bf6b55da99242a$export$2e2bcd8739ae039 = $21bf6b55da99242a$var$swipe;\n\n\nvar $197cd56b15c33885$var$swipe = $21bf6b55da99242a$export$2e2bcd8739ae039;\nvar $197cd56b15c33885$var$startButton = document.querySelector(\".controls button\");\nvar $197cd56b15c33885$var$score = document.querySelector(\".game-score\");\nvar $197cd56b15c33885$var$game = new $3d28d7f1aac198f5$exports($197cd56b15c33885$var$initialState());\ndocument.body.style.overflowY = \"hidden\";\n$197cd56b15c33885$var$startButton.addEventListener(\"click\", function() {\n    if ($197cd56b15c33885$var$startButton.classList.contains(\"start\")) {\n        $197cd56b15c33885$var$startButton.classList.remove(\"start\");\n        $197cd56b15c33885$var$startButton.classList.add(\"restart\");\n        $197cd56b15c33885$var$startButton.textContent = \"Restart\";\n        $197cd56b15c33885$var$game.start();\n    } else $197cd56b15c33885$var$game.restart();\n    document.querySelector(\".message-start\").classList.add(\"hidden\");\n    var data = $197cd56b15c33885$var$game.getScore();\n    $197cd56b15c33885$var$score.textContent = data;\n});\ndocument.addEventListener(\"keydown\", function(e) {\n    if (e.key === \"ArrowRight\") {\n        $197cd56b15c33885$var$game.moveRight();\n        var data = $197cd56b15c33885$var$game.getScore();\n        $197cd56b15c33885$var$score.textContent = data;\n    }\n    if (e.key === \"ArrowLeft\") {\n        $197cd56b15c33885$var$game.moveLeft();\n        var data1 = $197cd56b15c33885$var$game.getScore();\n        $197cd56b15c33885$var$score.textContent = data1;\n    }\n    if (e.key === \"ArrowUp\") {\n        $197cd56b15c33885$var$game.moveUp();\n        var data2 = $197cd56b15c33885$var$game.getScore();\n        $197cd56b15c33885$var$score.textContent = data2;\n    }\n    if (e.key === \"ArrowDown\") {\n        $197cd56b15c33885$var$game.moveDown();\n        var data3 = $197cd56b15c33885$var$game.getScore();\n        $197cd56b15c33885$var$score.textContent = data3;\n    }\n});\n$197cd56b15c33885$var$swipe($197cd56b15c33885$var$game);\n\n})();\n//# sourceMappingURL=index.e1542981.js.map\n","'use strict';\n\nconst Game = require('../modules/Game.class');\nconst { default: initialState } = require('./components/initialState');\nconst { default: swipe } = require('./components/swipe');\nconst startButton = document.querySelector('.controls button');\nconst score = document.querySelector('.game-score');\n\nconst game = new Game(initialState());\ndocument.body.style.overflowY = 'hidden';\n\nstartButton.addEventListener('click', () => {\n  if (startButton.classList.contains('start')) {\n    startButton.classList.remove('start');\n    startButton.classList.add('restart');\n    startButton.textContent = 'Restart';\n    game.start();\n  } else {\n    game.restart();\n  }\n\n  document.querySelector('.message-start').classList.add('hidden');\n\n  const data = game.getScore();\n\n  score.textContent = data;\n});\n\ndocument.addEventListener('keydown', (e) => {\n  if (e.key === 'ArrowRight') {\n    game.moveRight();\n\n    const data = game.getScore();\n\n    score.textContent = data;\n  }\n\n  if (e.key === 'ArrowLeft') {\n    game.moveLeft();\n\n    const data = game.getScore();\n\n    score.textContent = data;\n  }\n\n  if (e.key === 'ArrowUp') {\n    game.moveUp();\n\n    const data = game.getScore();\n\n    score.textContent = data;\n  }\n\n  if (e.key === 'ArrowDown') {\n    game.moveDown();\n\n    const data = game.getScore();\n\n    score.textContent = data;\n  }\n});\n\nswipe(game);\n","'use strict';\n\nconst { gameStatus } = require('../constants/gameStatus');\nconst {\n  default: addNewNumToState,\n} = require('../scripts/components/addNewNum');\nconst { default: initialState } = require('../scripts/components/initialState');\nconst { default: moveDown } = require('../scripts/components/moveDown');\nconst { default: moveLeft } = require('../scripts/components/moveLeft');\nconst { default: moveRight } = require('../scripts/components/moveRight');\nconst { default: moveUp } = require('../scripts/components/moveUp');\nconst { default: renderNums } = require('../scripts/components/renderNums');\n\nclass Game {\n  state = [];\n  status = gameStatus.idle;\n\n  constructor(data) {\n    this.state = data;\n  }\n\n  moveLeft() {\n    if (this.getStatus() !== gameStatus.playing) {\n      return;\n    }\n\n    const afterMove = moveLeft(this.getState());\n\n    this.applyChanges(afterMove);\n  }\n\n  moveRight() {\n    if (this.getStatus() !== gameStatus.playing) {\n      return;\n    }\n\n    const afterMove = moveRight(this.getState());\n\n    this.applyChanges(afterMove);\n  }\n\n  moveUp() {\n    if (this.getStatus() !== gameStatus.playing) {\n      return;\n    }\n\n    const afterMove = moveUp(this.getState());\n\n    this.applyChanges(afterMove);\n  }\n\n  moveDown() {\n    if (this.getStatus() !== gameStatus.playing) {\n      return;\n    }\n\n    const afterMove = moveDown(this.getState());\n\n    this.applyChanges(afterMove);\n  }\n\n  getScore() {\n    if (this.status === gameStatus.idle) {\n      return 0;\n    }\n\n    return this.state.flat().reduce((acc, elem) => acc + elem, 0);\n  }\n\n  getState() {\n    return this.state.map((row) => [...row]);\n  }\n\n  getStatus() {\n    return this.status;\n  }\n\n  start() {\n    this.status = gameStatus.playing;\n    renderNums(this.getState());\n  }\n\n  restart() {\n    this.state = initialState();\n    renderNums(this.getState());\n  }\n\n  applyChanges(afterMove) {\n    if (!afterMove) {\n      return;\n    }\n\n    if (this.isFull(afterMove)) {\n      this.gameOver();\n\n      return;\n    }\n\n    const newState = addNewNumToState(afterMove);\n\n    this.state = newState;\n    renderNums(newState);\n\n    if (this.has2048(this.state)) {\n      this.winner();\n    }\n  }\n\n  isFull(afterMove) {\n    return afterMove.flat().every((cell) => cell !== 0);\n  }\n\n  gameOver() {\n    this.status = gameStatus.lose;\n    document.querySelector('.message-lose').classList.remove('hidden');\n  }\n\n  has2048(afterMove) {\n    return afterMove.flat().includes(2048);\n  }\n\n  winner() {\n    this.status = gameStatus.win;\n    document.querySelector('.message-win').classList.remove('hidden');\n  }\n}\n\nmodule.exports = Game;\n","export function _class_call_check(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _class_call_check as _ };\n","function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n\n        if (\"value\" in descriptor) descriptor.writable = true;\n\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\nexport function _create_class(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n\n    return Constructor;\n}\nexport { _create_class as _ };\n","export function _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n    } else obj[key] = value;\n\n    return obj;\n}\nexport { _define_property as _ };\n","import { _array_without_holes } from \"./_array_without_holes.js\";\nimport { _iterable_to_array } from \"./_iterable_to_array.js\";\nimport { _non_iterable_spread } from \"./_non_iterable_spread.js\";\nimport { _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\n\nexport function _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nexport { _to_consumable_array as _ };\n","import { _array_like_to_array } from \"./_array_like_to_array.js\";\n\nexport function _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nexport { _array_without_holes as _ };\n","export function _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n}\nexport { _array_like_to_array as _ };\n","export function _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) {\n        return Array.from(iter);\n    }\n}\nexport { _iterable_to_array as _ };\n","export function _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _non_iterable_spread as _ };\n","import { _array_like_to_array } from \"./_array_like_to_array.js\";\n\nexport function _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nexport { _unsupported_iterable_to_array as _ };\n","export const gameStatus = {\n  idle: 'idle',\n  playing: 'playing',\n  win: 'win',\n  lose: 'lose',\n};\n","import random from './random';\n\nconst addNewNumToState = (state) => {\n  const newState = state.map((row) => [...row]);\n\n  const num = random.num();\n\n  const [first, second] = random.position(newState);\n\n  newState[first][second] = num;\n\n  return newState;\n};\n\nexport default addNewNumToState;\n","import { _array_with_holes } from \"./_array_with_holes.js\";\nimport { _iterable_to_array_limit } from \"./_iterable_to_array_limit.js\";\nimport { _non_iterable_rest } from \"./_non_iterable_rest.js\";\nimport { _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\n\nexport function _sliced_to_array(arr, i) {\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\n}\nexport { _sliced_to_array as _ };\n","export function _array_with_holes(arr) {\n    if (Array.isArray(arr)) return arr;\n}\nexport { _array_with_holes as _ };\n","export function _iterable_to_array_limit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n    if (_i == null) return;\n\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n\n    try {\n        for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n        }\n    } catch (err) {\n        _d = true;\n        _e = err;\n    } finally {\n        try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n        } finally {\n            if (_d) throw _e;\n        }\n    }\n\n    return _arr;\n}\nexport { _iterable_to_array_limit as _ };\n","export function _non_iterable_rest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _non_iterable_rest as _ };\n","const random = {\n  num() {\n    const probability = Math.random();\n\n    if (probability <= 0.9) {\n      return 2;\n    } else {\n      return 4;\n    }\n  },\n\n  position(arr) {\n    let firstNum = Math.floor(Math.random() * 4);\n\n    while (!arr[firstNum].includes(0)) {\n      firstNum = Math.floor(Math.random() * 4);\n    }\n\n    let secondNum = Math.floor(Math.random() * 4);\n\n    while (arr[firstNum][secondNum] !== 0) {\n      secondNum = Math.floor(Math.random() * 4);\n    }\n\n    return [firstNum, secondNum];\n  },\n};\n\nexport default random;\n","import addNewNumToState from './addNewNum';\n\nconst initialState = () => {\n  const state = [\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n  ];\n\n  const newState = addNewNumToState(state);\n\n  return addNewNumToState(newState);\n};\n\nexport default initialState;\n","const moveDown = (state) => {\n  let noMove = true;\n\n  for (let i = 0; i < state.length; i += 1) {\n    const lastCell = [state.length - 1, state[state.length - 1][i]];\n    let lastFreeCell = null;\n\n    for (let j = state.length - 1; j >= 0; j -= 1) {\n      const num = state[j][i];\n\n      if (num === 0) {\n        if (lastFreeCell !== null) {\n          continue;\n        }\n        lastFreeCell = j;\n        continue;\n      }\n\n      if (lastCell[1] === num && lastCell[0] !== j) {\n        state[lastCell[0]][i] = num * 2;\n        state[j][i] = 0;\n        lastFreeCell = j;\n        lastCell[0] -= 1;\n        j += 1;\n        lastCell[1] = state[lastCell[0]][i];\n        noMove = false;\n        continue;\n      }\n\n      if (lastFreeCell !== null) {\n        state[lastFreeCell][i] = num;\n        lastCell[0] = lastFreeCell;\n        lastCell[1] = num;\n        lastFreeCell -= 1;\n        state[j][i] = 0;\n        noMove = false;\n        continue;\n      }\n\n      if (lastCell[1] !== num) {\n        lastCell[0] -= 1;\n        lastCell[1] = num;\n        continue;\n      }\n    }\n  }\n\n  if (noMove) {\n    return false;\n  }\n\n  return state;\n};\n\nexport default moveDown;\n","const moveLeft = (state) => {\n  let noMove = true;\n\n  for (let i = 0; i < state.length; i += 1) {\n    const line = state[i];\n    const lastCell = [0, line[0]];\n    let lastFreeCell = null;\n\n    for (let j = 0; j < line.length; j += 1) {\n      const num = line[j];\n\n      if (num === 0) {\n        if (lastFreeCell !== null) {\n          continue;\n        }\n        lastFreeCell = j;\n\n        continue;\n      }\n\n      if (lastCell[1] === num && lastCell[0] !== j) {\n        state[i][lastCell[0]] = num * 2;\n        state[i][j] = 0;\n        lastFreeCell = j;\n        lastCell[0] += 1;\n        j -= 1;\n        lastCell[1] = state[j][lastCell[0]];\n        noMove = false;\n        continue;\n      }\n\n      if (lastFreeCell !== null) {\n        state[i][lastFreeCell] = num;\n        lastCell[0] = lastFreeCell;\n        lastCell[1] = num;\n        lastFreeCell += 1;\n        state[i][j] = 0;\n        noMove = false;\n        continue;\n      }\n\n      if (lastCell[1] !== num) {\n        lastCell[0] += 1;\n        lastCell[1] = num;\n        continue;\n      }\n    }\n  }\n\n  if (noMove) {\n    return false;\n  }\n\n  return state;\n};\n\nexport default moveLeft;\n","const moveRight = (state) => {\n  let noMove = true;\n\n  for (let i = 0; i < state.length; i += 1) {\n    const line = state[i];\n    const lastCell = [line.length - 1, line[line.length - 1]];\n    let lastFreeCell = null;\n\n    for (let j = line.length - 1; j >= 0; j -= 1) {\n      const num = line[j];\n\n      if (num === 0) {\n        if (lastFreeCell !== null) {\n          continue;\n        }\n        lastFreeCell = j;\n\n        continue;\n      }\n\n      if (lastCell[1] === num && lastCell[0] !== j) {\n        state[i][lastCell[0]] = num * 2;\n        state[i][j] = 0;\n        lastFreeCell = j;\n        lastCell[0] -= 1;\n        j += 1;\n        lastCell[1] = state[j][lastCell[0]];\n        noMove = false;\n        continue;\n      }\n\n      if (lastFreeCell !== null) {\n        state[i][lastFreeCell] = num;\n        lastCell[0] = lastFreeCell;\n        lastCell[1] = num;\n        lastFreeCell -= 1;\n        state[i][j] = 0;\n        noMove = false;\n        continue;\n      }\n\n      if (lastCell[1] !== num) {\n        lastCell[0] -= 1;\n        lastCell[1] = num;\n        continue;\n      }\n    }\n  }\n\n  if (noMove) {\n    return false;\n  }\n\n  return state;\n};\n\nexport default moveRight;\n","const moveUp = (state) => {\n  let noMove = true;\n\n  for (let i = 0; i < state.length; i += 1) {\n    const lastCell = [0, state[0][i]];\n    let lastFreeCell = null;\n\n    for (let j = 0; j < state.length; j += 1) {\n      const num = state[j][i];\n\n      if (num === 0) {\n        if (lastFreeCell !== null) {\n          continue;\n        }\n        lastFreeCell = j;\n        continue;\n      }\n\n      if (lastCell[1] === num && lastCell[0] !== j) {\n        state[lastCell[0]][i] = num * 2;\n        state[j][i] = 0;\n        lastFreeCell = j;\n        lastCell[0] += 1;\n        j -= 1;\n        lastCell[1] = state[lastCell[0]][i];\n        noMove = false;\n        continue;\n      }\n\n      if (lastFreeCell !== null) {\n        state[lastFreeCell][i] = num;\n        lastCell[0] = lastFreeCell;\n        lastCell[1] = num;\n        lastFreeCell += 1;\n        state[j][i] = 0;\n        noMove = false;\n        continue;\n      }\n\n      if (lastCell[1] !== num) {\n        lastCell[0] += 1;\n        lastCell[1] = num;\n        continue;\n      }\n    }\n  }\n\n  if (noMove) {\n    return false;\n  }\n\n  return state;\n};\n\nexport default moveUp;\n","function wait(delay) {\n  return new Promise((resolve) => {\n    setTimeout(() => resolve(), delay);\n  });\n}\n\nconst renderNums = (state) => {\n  const table = document.querySelector('tbody');\n  const rows = [...table.children];\n\n  rows.forEach((row, index) => {\n    const cells = [...row.children];\n\n    cells.forEach((cell, i) => {\n      if (cell.children.length) {\n        cell.lastChild.classList.add('hide');\n\n        wait(75).then(() => {\n          cell.removeChild(cell.lastChild);\n\n          const divTag = document.createElement('div');\n\n          divTag.classList.add('field-cell');\n          divTag.style.cssText = `display: flex; justify-content: center; align-items: center;`;\n\n          const num = state[index][i];\n          const content = num === 0 ? '' : num;\n\n          if (num) {\n            divTag.classList.add(`field-cell--${num}`);\n          }\n\n          divTag.textContent = content;\n          cell.append(divTag);\n        });\n      } else {\n        const divTag = document.createElement('div');\n\n        divTag.classList.add('field-cell');\n        divTag.style.cssText = `display: flex; justify-content: center; align-items: center;`;\n\n        const num = state[index][i];\n        const content = num === 0 ? '' : num;\n\n        if (num) {\n          divTag.classList.add(`field-cell--${num}`);\n        }\n\n        divTag.textContent = content;\n        cell.append(divTag);\n      }\n    });\n  });\n};\n\nexport default renderNums;\n","const swipe = (game) => {\n  const table = document.querySelector('tbody');\n  const score = document.querySelector('.game-score');\n\n  let touchStartX = 0;\n  let touchEndX = 0;\n  let touchStartY = 0;\n  let touchEndY = 0;\n  const SWIPE_DIFF = 20;\n\n  function checkDirection() {\n    const xDiff = Math.abs(touchStartX - touchEndX);\n    const yDiff = Math.abs(touchStartY - touchEndY);\n\n    if (xDiff > yDiff) {\n      if (touchStartX - touchEndX > SWIPE_DIFF) {\n        game.moveLeft();\n      }\n      if (touchEndX - touchStartX > SWIPE_DIFF) {\n        game.moveRight();\n      }\n    } else {\n      if (touchStartY - touchEndY > SWIPE_DIFF) {\n        game.moveUp();\n      }\n      if (touchEndY - touchStartY > SWIPE_DIFF) {\n        game.moveDown();\n      }\n    }\n\n    const data = game.getScore();\n\n    score.textContent = data;\n  }\n\n  table.addEventListener('touchstart', (e) => {\n    touchStartX = e.changedTouches[0].screenX;\n    touchStartY = e.changedTouches[0].screenY;\n  });\n\n  table.addEventListener('touchend', (e) => {\n    touchEndX = e.changedTouches[0].screenX;\n    touchEndY = e.changedTouches[0].screenY;\n    checkDirection();\n  });\n\n  return () => {\n    table.removeEventListener('touchstart', touchStartHandler);\n    table.removeEventListener('touchend', touchEndHandler);\n  };\n};\n\nexport default swipe;\n"],"names":["checkDirection","table","score","touchStartX","touchEndX","touchStartY","touchEndY","SWIPE_DIFF","$3d28d7f1aac198f5$exports","$cd5a47cf8ef6d766$export$1e71eb4bef00f6b0","obj","key","value","Object","defineProperty","enumerable","configurable","writable","$c3b10a83b523f372$export$79e617b1955a2616","arr","len","length","i","arr2","Array","$d4f69c5c6c4654b1$export$a5be06335b3a083c","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","$227c6742e0ff6f82$export$1b5e630bc3aea29f","isArray","iter","Symbol","iterator","TypeError","firstNum","Math","floor","random","includes","secondNum","$9cf1afd1eb16706b$export$2e2bcd8739ae039","state","newState","map","row","num","probability","_random_position","_s","_e","_i","_arr","_n","_d","next","done","push","err","first","second","$3ef2292e4038c8ff$export$2e2bcd8739ae039","$3d28d7f1aac198f5$var$moveDown","noMove","lastCell","lastFreeCell","j","$3d28d7f1aac198f5$var$moveLeft","line","$3d28d7f1aac198f5$var$moveRight","$3d28d7f1aac198f5$var$moveUp","$3d28d7f1aac198f5$var$renderNums","rows","document","querySelector","children","forEach","index","cells","cell","lastChild","classList","add","$141233592d75eb40$var$wait","Promise","resolve","setTimeout","then","removeChild","divTag","createElement","style","cssText","concat","textContent","append","protoProps","Game","data","instance","Constructor","getStatus","afterMove","getState","applyChanges","status","flat","reduce","acc","elem","$3d28d7f1aac198f5$var$initialState","isFull","gameOver","$3d28d7f1aac198f5$var$addNewNumToState","has2048","winner","every","remove","$4fc75ccb937ab1df$var$_defineProperties","target","props","descriptor","$197cd56b15c33885$var$startButton","$197cd56b15c33885$var$score","$197cd56b15c33885$var$game","$197cd56b15c33885$var$initialState","body","overflowY","addEventListener","contains","start","restart","getScore","e","moveRight","moveLeft","data1","moveUp","data2","moveDown","data3","xDiff","abs","game","changedTouches","screenX","screenY"],"version":3,"file":"index.e1542981.js.map"}